<!-- seller.ejs -->

<!-- View all products -->
<h2>All Products</h2>
<% product.forEach(function(product) { %>
  <div>
    <h3><%= product.title %></h3>
    <p><strong>Price:</strong> <%= product.price %></p>
    <p><strong>Quantity:</strong> <%= product.quantity %></p>
    <p><strong>Description:</strong> <%= product.description %></p>
    <img src="<%= product.image %>">
    <form action="/products/<%= product._id %>" method="post">
      <button type="submit">Delete Product</button>
    </form>
    <hr>
  </div>
<% }); %>

<!-- Add a new product form -->
<h1>Add Product</h1>
  <form action="/seller/products" method="post" enctype="multipart/form-data">
    <label for="category">Category:</label>
    <input type="text" id="categoryId" name="categoryId" required><br><br>
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required><br><br>
    <label for="price">Price:</label>
    <input type="number" id="price" name="price" required><br><br>
    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" name="quantity" required><br><br>
    <label for="description">Description:</label><br>
    <textarea id="description" name="description" rows="4" cols="50" required></textarea><br><br>
    <label for="product_picture">Image:</label>
    <input type="file" id="product_picture" name="product_picture" required><br><br>
    <button type="submit">Add Product</button>
  </form>

<!-- Update an existing product form -->
<h2>Update Product</h2>
<form action="/editproducts" method="post" enctype="multipart/form-data">
  <input type="hidden" name="id" value="<%= product._id %>">
  <input type="text" name="title" placeholder="Product Name" value="<%= product.title %>" required>
  <input type="number" name="price" placeholder="Price" value="<%= product.price %>" required>
  <input type="number" name="quantity" placeholder="Quantity" value="<%= product.quantity %>" required>
  <input type="text" name="description" placeholder="Description" value="<%= product.description %>" required>
  <input type="file" name="product_picture" accept="image/*">
  <input type="checkbox" name="isDeleted" <% if(product.isDeleted) { %>checked<% } %> value="true">
  <label for="isDeleted">Delete this product?</label>
  <button type="submit">Update Product</button>
</form>
